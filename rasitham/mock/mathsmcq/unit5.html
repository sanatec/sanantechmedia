<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCQ Adventure: It's Time</title>
    
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: 'Nunito' for a friendly, rounded look -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">
    
    <!-- Tone.js for sound effects -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>

    <style>
        /* Custom styles for the new blue/digital clock theme */
        body {
            font-family: 'Nunito', sans-serif;
            background-color: #f1f5f9; /* Slate 100 background */
        }
        .quiz-container {
            background: linear-gradient(135deg, #f8fafc, #e0f2fe); /* Slate 50 to Sky 100 */
            box-shadow: 0 10px 25px rgba(30, 41, 59, 0.1);
            border: 1px solid #e0e7ff;
        }
        .quiz-container:hover {
            transform: translateY(-5px);
        }
        .btn {
            transition: all 0.2s ease-in-out;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
        .btn:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .option-btn {
            border: 2px solid transparent;
        }
        .option-btn.selected {
            background-color: #38bdf8; /* Sky 400 for selected */
            color: white;
            border-color: #0ea5e9; /* Sky 500 */
        }
        .option-btn.correct {
            background-color: #4ade80; /* Green 400 for correct */
            color: #14532d;
            border-color: #16a34a;
        }
        .option-btn.wrong {
            background-color: #f87171; /* Red 400 for wrong */
            color: white;
            border-color: #ef4444;
        }
        .progress-bar-inner {
            transition: width 0.5s ease-in-out;
        }
        /* Animation for screen transitions */
        .screen {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-slate-100 flex items-center justify-center min-h-screen p-4">

    <div id="app-container" class="w-full max-w-md mx-auto">

        <!-- Welcome Screen -->
        <div id="welcome-screen" class="screen text-center p-6 quiz-container rounded-2xl">
            <h1 id="welcome-title" class="text-4xl font-black text-slate-800 mb-2">MCQ Adventure!</h1>
            <p id="welcome-subtitle" class="text-lg text-slate-600 mb-6">Let's Learn About Time!</p>
            <img src="https://placehold.co/400x200/0ea5e9/ffffff?text=What+Time+Is+It%3F&font=nunito" class="rounded-xl mb-6 shadow-lg" alt="Clock Adventure Start">
            
            <div id="language-selection">
                 <p class="font-bold mb-4 text-slate-700">Choose your language / ‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥≠‡¥æ‡¥∑ ‡¥§‡¥ø‡¥∞‡¥û‡µç‡¥û‡µÜ‡¥ü‡µÅ‡¥ï‡µç‡¥ï‡µÅ‡¥ï</p>
                 <div class="flex space-x-4">
                    <button onclick="setLanguage('en')" class="w-full btn bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-xl text-lg">English</button>
                    <button onclick="setLanguage('ml')" class="w-full btn bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-4 rounded-xl text-lg">‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç</button>
                 </div>
            </div>

            <button id="start-quiz-btn" class="w-full btn bg-sky-500 hover:bg-sky-600 text-white font-bold py-3 px-4 rounded-xl text-xl mt-6 hidden">
                Start Quiz
            </button>
        </div>

        <!-- Quiz Screen -->
        <div id="quiz-screen" class="screen hidden">
            <div class="quiz-container rounded-2xl p-6">
                <!-- Header with Progress -->
                <div class="mb-4">
                    <p class="text-sm text-slate-500"><span id="question-label">Question</span> <span id="question-number"></span> <span id="of-label">of</span> <span id="total-questions"></span></p>
                    <div class="w-full bg-gray-200 rounded-full h-2.5 mt-1">
                        <div id="progress-bar" class="bg-cyan-400 h-2.5 rounded-full progress-bar-inner" style="width: 0%"></div>
                    </div>
                </div>

                <!-- Question Text -->
                <h2 id="question-text" class="text-2xl font-bold text-slate-800 mb-6 min-h-[120px]"></h2>

                <!-- Options -->
                <div id="options-container" class="space-y-3">
                    <!-- Options will be dynamically inserted here -->
                </div>

                <!-- Feedback Message -->
                <div id="feedback-message" class="mt-4 text-center font-bold min-h-[24px]"></div>

            </div>
            
            <!-- Navigation Buttons -->
            <div class="flex justify-between mt-6">
                <button id="back-btn" class="btn bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-3 px-8 rounded-xl">Back</button>
                <button id="next-btn" class="btn bg-sky-500 hover:bg-sky-600 text-white font-bold py-3 px-8 rounded-xl">Next</button>
                <button id="submit-btn" class="btn hidden bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-8 rounded-xl">Submit</button>
            </div>
        </div>

        <!-- Review Screen -->
        <div id="review-screen" class="screen hidden">
             <div class="quiz-container rounded-2xl p-6 text-center">
                <h2 id="review-title" class="text-3xl font-black text-slate-800 mb-2">Quiz Complete!</h2>
                <p id="review-subtitle" class="text-lg text-slate-600 mb-4">Great job! Here's your score:</p>
                <div class="bg-cyan-200 rounded-full w-32 h-32 flex items-center justify-center mx-auto mb-6 shadow-inner">
                    <span id="final-score" class="text-4xl font-bold text-cyan-800"></span>
                </div>
             </div>
             <div id="review-content" class="mt-6 space-y-4">
                <!-- Review details will be inserted here -->
             </div>
             <button id="restart-quiz-btn" class="w-full mt-6 btn bg-sky-500 hover:bg-sky-600 text-white font-bold py-3 px-4 rounded-xl text-xl">
                Play Again
            </button>
        </div>

    </div>

    <script>
        // --- DOM Elements ---
        const welcomeScreen = document.getElementById('welcome-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const reviewScreen = document.getElementById('review-screen');
        const languageSelection = document.getElementById('language-selection');

        const startQuizBtn = document.getElementById('start-quiz-btn');
        const backBtn = document.getElementById('back-btn');
        const nextBtn = document.getElementById('next-btn');
        const submitBtn = document.getElementById('submit-btn');
        const restartQuizBtn = document.getElementById('restart-quiz-btn');

        const questionNumberEl = document.getElementById('question-number');
        const totalQuestionsEl = document.getElementById('total-questions');
        const progressBar = document.getElementById('progress-bar');
        const questionTextEl = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const feedbackMessage = document.getElementById('feedback-message');
        
        const finalScoreEl = document.getElementById('final-score');
        const reviewContent = document.getElementById('review-content');
        
        // --- UI Text Elements for Translation ---
        const welcomeTitle = document.getElementById('welcome-title');
        const welcomeSubtitle = document.getElementById('welcome-subtitle');
        const questionLabel = document.getElementById('question-label');
        const ofLabel = document.getElementById('of-label');
        const reviewTitle = document.getElementById('review-title');
        const reviewSubtitle = document.getElementById('review-subtitle');

        // --- Bilingual Data ---
        const uiText = {
            en: { welcomeTitle: "MCQ Adventure!", welcomeSubtitle: "Let's Learn About Time!", startBtn: "Start Quiz", questionLabel: "Question", ofLabel: "of", backBtn: "Back", nextBtn: "Next", submitBtn: "Submit", reviewTitle: "Quiz Complete!", reviewSubtitle: "Great job! Here's your score:", reviewHeader: "Your Review", yourAnswer: "Your answer:", correctAnswer: "Correct answer:", notAnswered: "Not answered", playAgainBtn: "Play Again", correctFeedback: "Correct! üéâ" },
            ml: { welcomeTitle: "MCQ ‡¥∏‡¥æ‡¥π‡¥∏‡¥ø‡¥ï‡¥Ç!", welcomeSubtitle: "‡¥®‡¥Æ‡µÅ‡¥ï‡µç‡¥ï‡µç ‡¥∏‡¥Æ‡¥Ø‡¥§‡µç‡¥§‡µÜ‡¥ï‡µç‡¥ï‡µÅ‡¥±‡¥ø‡¥ö‡µç‡¥ö‡µç ‡¥™‡¥†‡¥ø‡¥ï‡µç‡¥ï‡¥æ‡¥Ç!", startBtn: "‡¥ï‡µç‡¥µ‡¥ø‡¥∏‡µç ‡¥Ü‡¥∞‡¥Ç‡¥≠‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï", questionLabel: "‡¥ö‡µã‡¥¶‡µç‡¥Ø‡¥Ç", ofLabel: "/", backBtn: "‡¥™‡µÅ‡¥±‡¥ï‡µá‡¥æ‡¥ü‡µç‡¥ü‡µç", nextBtn: "‡¥Ö‡¥ü‡µÅ‡¥§‡µç‡¥§‡¥§‡µç", submitBtn: "‡¥∏‡¥Æ‡µº‡¥™‡µç‡¥™‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï", reviewTitle: "‡¥ï‡µç‡¥µ‡¥ø‡¥∏‡µç ‡¥™‡µÇ‡µº‡¥§‡µç‡¥§‡¥ø‡¥Ø‡¥æ‡¥Ø‡¥ø!", reviewSubtitle: "‡¥ï‡µä‡¥≥‡µç‡¥≥‡¥æ‡¥Ç! ‡¥á‡¥§‡¥æ ‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥∏‡µç‡¥ï‡µã‡µº:", reviewHeader: "‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥Ö‡¥µ‡¥≤‡µã‡¥ï‡¥®‡¥Ç", yourAnswer: "‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥â‡¥§‡µç‡¥§‡¥∞‡¥Ç:", correctAnswer: "‡¥∂‡¥∞‡¥ø‡¥Ø‡¥æ‡¥Ø ‡¥â‡¥§‡µç‡¥§‡¥∞‡¥Ç:", notAnswered: "‡¥â‡¥§‡µç‡¥§‡¥∞‡¥Ç ‡¥®‡µΩ‡¥ï‡¥ø‡¥Ø‡¥ø‡¥≤‡µç‡¥≤", playAgainBtn: "‡¥µ‡µÄ‡¥£‡µç‡¥ü‡µÅ‡¥Ç ‡¥ï‡¥≥‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï", correctFeedback: "‡¥∂‡¥∞‡¥ø‡¥Ø‡¥æ‡¥£‡µç! üéâ" }
        };

        const quizData = [
            { en: { question: "Nidhi's clock shows 09:15:00. Her school bus will arrive in 15 minutes. What time will it be?", options: ["09:25:00", "09:30:00", "10:00:00", "09:45:00"], answer: "09:30:00" }, ml: { question: "‡¥®‡¥ø‡¥ß‡¥ø‡¥Ø‡µÅ‡¥ü‡µÜ ‡¥ï‡µç‡¥≤‡µã‡¥ï‡µç‡¥ï‡¥ø‡µΩ 09:15:00 ‡¥ï‡¥æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡µÅ. ‡¥Ö‡¥µ‡¥≥‡µÅ‡¥ü‡µÜ ‡¥∏‡µç‡¥ï‡µÇ‡µæ ‡¥¨‡¥∏‡µç 15 ‡¥Æ‡¥ø‡¥®‡¥ø‡¥±‡µç‡¥±‡¥ø‡¥®‡µÅ‡¥≥‡µç‡¥≥‡¥ø‡µΩ ‡¥µ‡¥∞‡µÅ‡¥Ç. ‡¥Ö‡¥™‡µç‡¥™‡µã‡µæ ‡¥∏‡¥Æ‡¥Ø‡¥Ç ‡¥é‡¥§‡µç‡¥∞‡¥Ø‡¥æ‡¥Ø‡¥ø‡¥∞‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥Ç?", options: ["09:25:00", "09:30:00", "10:00:00", "09:45:00"], answer: "09:30:00" } },
            { en: { question: "What time comes 1 second after 09:29:59?", options: ["09:29:60", "09:30:00", "10:00:00", "09:30:01"], answer: "09:30:00" }, ml: { question: "09:29:59 ‡¥ï‡¥¥‡¥ø‡¥û‡µç‡¥û‡µç 1 ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µç ‡¥Ü‡¥ï‡µÅ‡¥Æ‡µç‡¥™‡µã‡µæ ‡¥∏‡¥Æ‡¥Ø‡¥Ç ‡¥é‡¥§‡µç‡¥∞?", options: ["09:29:60", "09:30:00", "10:00:00", "09:30:01"], answer: "09:30:00" } },
            { en: { question: "How many seconds are in 1 minute?", options: ["30 seconds", "100 seconds", "60 seconds", "120 seconds"], answer: "60 seconds" }, ml: { question: "1 ‡¥Æ‡¥ø‡¥®‡¥ø‡¥±‡µç‡¥±‡¥ø‡µΩ ‡¥é‡¥§‡µç‡¥∞ ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µç ‡¥â‡¥£‡µç‡¥ü‡µç?", options: ["30 ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µç", "100 ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µç", "60 ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µç", "120 ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µç"], answer: "60 ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µç" } },
            { en: { question: "The walking race started at 10:30:00. Mili finished at 10:31:32. How long did she take?", options: ["1 minute 30 seconds", "32 seconds", "1 minute 32 seconds", "2 minutes"], answer: "1 minute 32 seconds" }, ml: { question: "‡¥®‡¥ü‡¥§‡µç‡¥§‡¥Æ‡¥§‡µç‡¥∏‡¥∞‡¥Ç 10:30:00-‡¥®‡µç ‡¥§‡µÅ‡¥ü‡¥ô‡µç‡¥ô‡¥ø. ‡¥Æ‡¥ø‡¥≤‡¥ø 10:31:32-‡¥®‡µç ‡¥Æ‡¥§‡µç‡¥∏‡¥∞‡¥Ç ‡¥™‡µÇ‡µº‡¥§‡µç‡¥§‡¥ø‡¥Ø‡¥æ‡¥ï‡µç‡¥ï‡¥ø. ‡¥Ö‡¥µ‡µæ ‡¥é‡¥§‡µç‡¥∞ ‡¥∏‡¥Æ‡¥Ø‡¥Æ‡µÜ‡¥ü‡µÅ‡¥§‡µç‡¥§‡µÅ?", options: ["1 ‡¥Æ‡¥ø‡¥®‡¥ø‡¥±‡µç‡¥±‡µç 30 ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µç", "32 ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µç", "1 ‡¥Æ‡¥ø‡¥®‡¥ø‡¥±‡µç‡¥±‡µç 32 ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µç", "2 ‡¥Æ‡¥ø‡¥®‡¥ø‡¥±‡µç‡¥±‡µç"], answer: "1 ‡¥Æ‡¥ø‡¥®‡¥ø‡¥±‡µç‡¥±‡µç 32 ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µç" } },
            { en: { question: "Who won the walking race? (Sibi: 10:31:12, Ayana: 10:31:15, Tanu: 10:31:25)", options: ["Sibi", "Ayana", "Tanu", "Mili"], answer: "Sibi" }, ml: { question: "‡¥®‡¥ü‡¥§‡µç‡¥§‡¥Æ‡¥§‡µç‡¥∏‡¥∞‡¥§‡µç‡¥§‡¥ø‡µΩ ‡¥Ü‡¥∞‡¥æ‡¥£‡µç ‡¥µ‡¥ø‡¥ú‡¥Ø‡¥ø‡¥ö‡µç‡¥ö‡¥§‡µç? (‡¥∏‡¥ø‡¥¨‡¥ø: 10:31:12, ‡¥Ö‡¥Ø‡¥®: 10:31:15, ‡¥§‡¥®‡µÅ: 10:31:25)", options: ["‡¥∏‡¥ø‡¥¨‡¥ø", "‡¥Ö‡¥Ø‡¥®", "‡¥§‡¥®‡µÅ", "‡¥Æ‡¥ø‡¥≤‡¥ø"], answer: "‡¥∏‡¥ø‡¥¨‡¥ø" } },
            { en: { question: "How many minutes are in 2 hours?", options: ["60 minutes", "100 minutes", "120 minutes", "200 minutes"], answer: "120 minutes" }, ml: { question: "2 ‡¥Æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÇ‡¥±‡¥ø‡µΩ ‡¥é‡¥§‡µç‡¥∞ ‡¥Æ‡¥ø‡¥®‡¥ø‡¥±‡µç‡¥±‡µç ‡¥â‡¥£‡µç‡¥ü‡µç?", options: ["60 ‡¥Æ‡¥ø‡¥®‡¥ø‡¥±‡µç‡¥±‡µç", "100 ‡¥Æ‡¥ø‡¥®‡¥ø‡¥±‡µç‡¥±‡µç", "120 ‡¥Æ‡¥ø‡¥®‡¥ø‡¥±‡µç‡¥±‡µç", "200 ‡¥Æ‡¥ø‡¥®‡¥ø‡¥±‡µç‡¥±‡µç"], answer: "120 minutes" } },
            { en: { question: "How many seconds are in 2 hours?", options: ["120 seconds", "3600 seconds", "7200 seconds", "2000 seconds"], answer: "7200 seconds" }, ml: { question: "2 ‡¥Æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÇ‡¥±‡¥ø‡µΩ ‡¥é‡¥§‡µç‡¥∞ ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µç ‡¥â‡¥£‡µç‡¥ü‡µç?", options: ["120 ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µç", "3600 ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µç", "7200 ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µç", "2000 ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µç"], answer: "7200 seconds" } },
            { en: { question: "How many seconds does it take for the second hand to move from 9 to 12 on a clock?", options: ["3 seconds", "9 seconds", "12 seconds", "15 seconds"], answer: "15 seconds" }, ml: { question: "‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µç ‡¥∏‡µÇ‡¥ö‡¥ø 9-‡µΩ ‡¥®‡¥ø‡¥®‡µç‡¥®‡µç 12-‡¥≤‡µá‡¥ï‡µç‡¥ï‡µç ‡¥®‡µÄ‡¥ô‡µç‡¥ô‡¥æ‡µª ‡¥é‡¥§‡µç‡¥∞ ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µç ‡¥é‡¥ü‡µÅ‡¥ï‡µç‡¥ï‡µÅ‡¥Ç?", options: ["3 ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µç", "9 ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µç", "12 ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µç", "15 ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µç"], answer: "15 seconds" } },
            { en: { question: "If the time was 10:15 one hour ago, what time will it be in two and a half hours from now?", options: ["12:45", "1:45", "1:15", "11:45"], answer: "1:45" }, ml: { question: "‡¥í‡¥∞‡µÅ ‡¥Æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÇ‡µº ‡¥Æ‡µÅ‡¥Æ‡µç‡¥™‡µç ‡¥∏‡¥Æ‡¥Ø‡¥Ç 10:15 ‡¥Ü‡¥Ø‡¥ø‡¥∞‡µÅ‡¥®‡µç‡¥®‡µÅ. ‡¥á‡¥™‡µç‡¥™‡µã‡µæ ‡¥Æ‡µÅ‡¥§‡µΩ ‡¥∞‡¥£‡µç‡¥ü‡¥∞ ‡¥Æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÇ‡µº ‡¥ï‡¥¥‡¥ø‡¥û‡µç‡¥û‡¥æ‡µΩ ‡¥∏‡¥Æ‡¥Ø‡¥Ç ‡¥é‡¥§‡µç‡¥∞‡¥Ø‡¥æ‡¥ï‡µÅ‡¥Ç?", options: ["12:45", "1:45", "1:15", "11:45"], answer: "1:45" } },
            { en: { question: "How many milliliters of water will be wasted in 10 minutes if a tap leaks 1 ml per second?", options: ["10 ml", "60 ml", "100 ml", "600 ml"], answer: "600 ml" }, ml: { question: "‡¥í‡¥∞‡µÅ ‡¥ü‡¥æ‡¥™‡µç‡¥™‡¥ø‡µΩ ‡¥®‡¥ø‡¥®‡µç‡¥®‡µç ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡¥ø‡µΩ 1 ‡¥Æ‡¥ø‡¥≤‡µç‡¥≤‡¥ø‡¥≤‡¥ø‡¥±‡µç‡¥±‡µº ‡¥µ‡µÜ‡¥≥‡µç‡¥≥‡¥Ç ‡¥®‡¥∑‡µç‡¥ü‡¥™‡µç‡¥™‡µÜ‡¥ü‡µç‡¥ü‡¥æ‡µΩ 10 ‡¥Æ‡¥ø‡¥®‡¥ø‡¥±‡µç‡¥±‡¥ø‡µΩ ‡¥é‡¥§‡µç‡¥∞ ‡¥µ‡µÜ‡¥≥‡µç‡¥≥‡¥Ç ‡¥™‡¥æ‡¥¥‡¥æ‡¥ï‡µÅ‡¥Ç?", options: ["10 ‡¥Æ‡¥ø‡¥≤‡µç‡¥≤‡¥ø", "60 ‡¥Æ‡¥ø‡¥≤‡µç‡¥≤‡¥ø", "100 ‡¥Æ‡¥ø‡¥≤‡µç‡¥≤‡¥ø", "600 ‡¥Æ‡¥ø‡¥≤‡µç‡¥≤‡¥ø"], answer: "600 ml" } },
            { en: { question: "A school trip started at 5:30 in the morning and returned at 5:30 in the evening. How long was the trip?", options: ["10 hours", "11 hours", "12 hours", "24 hours"], answer: "12 hours" }, ml: { question: "‡¥í‡¥∞‡µÅ ‡¥∏‡µç‡¥ï‡µÇ‡µæ ‡¥µ‡¥ø‡¥®‡µã‡¥¶‡¥Ø‡¥æ‡¥§‡µç‡¥∞ ‡¥∞‡¥æ‡¥µ‡¥ø‡¥≤‡µÜ 5:30-‡¥®‡µç ‡¥§‡µÅ‡¥ü‡¥ô‡µç‡¥ô‡¥ø ‡¥µ‡µà‡¥ï‡µÅ‡¥®‡µç‡¥®‡µá‡¥∞‡¥Ç 5:30-‡¥®‡µç ‡¥§‡¥ø‡¥∞‡¥ø‡¥ö‡µç‡¥ö‡µÜ‡¥§‡µç‡¥§‡¥ø. ‡¥Ø‡¥æ‡¥§‡µç‡¥∞‡¥Ø‡µÅ‡¥ü‡µÜ ‡¥¶‡µà‡µº‡¥ò‡µç‡¥Ø‡¥Ç ‡¥é‡¥§‡µç‡¥∞‡¥Ø‡¥æ‡¥Ø‡¥ø‡¥∞‡µÅ‡¥®‡µç‡¥®‡µÅ?", options: ["10 ‡¥Æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÇ‡µº", "11 ‡¥Æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÇ‡µº", "12 ‡¥Æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÇ‡µº", "24 ‡¥Æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÇ‡µº"], answer: "12 hours" } },
            { en: { question: "How many hours does it take for the hour hand to move from 7 to 3?", options: ["6 hours", "7 hours", "8 hours", "9 hours"], answer: "8 hours" }, ml: { question: "‡¥Æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÇ‡µº ‡¥∏‡µÇ‡¥ö‡¥ø 7-‡µΩ ‡¥®‡¥ø‡¥®‡µç‡¥®‡µç 3-‡¥≤‡µá‡¥ï‡µç‡¥ï‡µç ‡¥®‡µÄ‡¥ô‡µç‡¥ô‡¥æ‡µª ‡¥é‡¥§‡µç‡¥∞ ‡¥Æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÇ‡µº ‡¥é‡¥ü‡µÅ‡¥ï‡µç‡¥ï‡µÅ‡¥Ç?", options: ["6 ‡¥Æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÇ‡µº", "7 ‡¥Æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÇ‡µº", "8 ‡¥Æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÇ‡µº", "9 ‡¥Æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÇ‡µº"], answer: "8 hours" } },
            { en: { question: "How many seconds does it take for the second hand to move from 5 to 11?", options: ["6 seconds", "25 seconds", "30 seconds", "55 seconds"], answer: "30 seconds" }, ml: { question: "‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µç ‡¥∏‡µÇ‡¥ö‡¥ø 5-‡µΩ ‡¥®‡¥ø‡¥®‡µç‡¥®‡µç 11-‡¥≤‡µá‡¥ï‡µç‡¥ï‡µç ‡¥®‡µÄ‡¥ô‡µç‡¥ô‡¥æ‡µª ‡¥é‡¥§‡µç‡¥∞ ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µç ‡¥é‡¥ü‡µÅ‡¥ï‡µç‡¥ï‡µÅ‡¥Ç?", options: ["6 ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µç", "25 ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µç", "30 ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µç", "55 ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µç"], answer: "30 seconds" } },
            { en: { question: "If it was 9:30 two hours ago, what time will it be in three and a half hours from now?", options: ["1:00", "2:00", "3:00", "1:30"], answer: "3:00" }, ml: { question: "‡¥∞‡¥£‡µç‡¥ü‡µç ‡¥Æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÇ‡µº ‡¥Æ‡µÅ‡¥Æ‡µç‡¥™‡µç ‡¥∏‡¥Æ‡¥Ø‡¥Ç 9:30 ‡¥Ü‡¥Ø‡¥ø‡¥∞‡µÅ‡¥®‡µç‡¥®‡µÅ. ‡¥á‡¥™‡µç‡¥™‡µã‡µæ ‡¥Æ‡µÅ‡¥§‡µΩ ‡¥Æ‡µÇ‡¥®‡µç‡¥®‡¥∞ ‡¥Æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÇ‡µº ‡¥ï‡¥¥‡¥ø‡¥û‡µç‡¥û‡¥æ‡µΩ ‡¥∏‡¥Æ‡¥Ø‡¥Ç ‡¥é‡¥§‡µç‡¥∞‡¥Ø‡¥æ‡¥ï‡µÅ‡¥Ç?", options: ["1:00", "2:00", "3:00", "1:30"], answer: "3:00" } },
            { en: { question: "If the first Friday of January is on the 2nd, what is the date of the third Friday?", options: ["14th", "16th", "21st", "23rd"], answer: "16th" }, ml: { question: "‡¥ú‡¥®‡µÅ‡¥µ‡¥∞‡¥ø‡¥Ø‡¥ø‡¥≤‡µÜ ‡¥Ü‡¥¶‡µç‡¥Ø‡¥§‡µç‡¥§‡µÜ ‡¥µ‡µÜ‡¥≥‡µç‡¥≥‡¥ø‡¥Ø‡¥æ‡¥¥‡µç‡¥ö 2-‡¥æ‡¥Ç ‡¥§‡µÄ‡¥Ø‡¥§‡¥ø‡¥Ø‡¥æ‡¥£‡µÜ‡¥ô‡µç‡¥ï‡¥ø‡µΩ, ‡¥Æ‡µÇ‡¥®‡µç‡¥®‡¥æ‡¥Æ‡¥§‡µç‡¥§‡µÜ ‡¥µ‡µÜ‡¥≥‡µç‡¥≥‡¥ø‡¥Ø‡¥æ‡¥¥‡µç‡¥ö ‡¥è‡¥§‡µç ‡¥§‡µÄ‡¥Ø‡¥§‡¥ø‡¥Ø‡¥æ‡¥Ø‡¥ø‡¥∞‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥Ç?", options: ["14", "16", "21", "23"], answer: "16th" } },
            { en: { question: "If the 7th of a month is a Thursday, what day is the 17th of that month?", options: ["Saturday", "Sunday", "Monday", "Friday"], answer: "Sunday" }, ml: { question: "‡¥í‡¥∞‡µÅ ‡¥Æ‡¥æ‡¥∏‡¥§‡µç‡¥§‡¥ø‡¥≤‡µÜ 7-‡¥æ‡¥Ç ‡¥§‡µÄ‡¥Ø‡¥§‡¥ø ‡¥µ‡µç‡¥Ø‡¥æ‡¥¥‡¥æ‡¥¥‡µç‡¥ö‡¥Ø‡¥æ‡¥£‡µÜ‡¥ô‡µç‡¥ï‡¥ø‡µΩ, ‡¥Ü ‡¥Æ‡¥æ‡¥∏‡¥§‡µç‡¥§‡¥ø‡¥≤‡µÜ 17-‡¥æ‡¥Ç ‡¥§‡µÄ‡¥Ø‡¥§‡¥ø ‡¥è‡¥§‡µç ‡¥¶‡¥ø‡¥µ‡¥∏‡¥Æ‡¥æ‡¥Ø‡¥ø‡¥∞‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥Ç?", options: ["‡¥∂‡¥®‡¥ø", "‡¥û‡¥æ‡¥Ø‡µº", "‡¥§‡¥ø‡¥ô‡µç‡¥ï‡µæ", "‡¥µ‡µÜ‡¥≥‡µç‡¥≥‡¥ø"], answer: "Sunday" } },
            { en: { question: "How many minutes are in one hour?", options: ["30 minutes", "60 minutes", "90 minutes", "100 minutes"], answer: "60 minutes" }, ml: { question: "‡¥í‡¥∞‡µÅ ‡¥Æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÇ‡¥±‡¥ø‡µΩ ‡¥é‡¥§‡µç‡¥∞ ‡¥Æ‡¥ø‡¥®‡¥ø‡¥±‡µç‡¥±‡µç ‡¥â‡¥£‡µç‡¥ü‡µç?", options: ["30 ‡¥Æ‡¥ø‡¥®‡¥ø‡¥±‡µç‡¥±‡µç", "60 ‡¥Æ‡¥ø‡¥®‡¥ø‡¥±‡µç‡¥±‡µç", "90 ‡¥Æ‡¥ø‡¥®‡¥ø‡¥±‡µç‡¥±‡µç", "100 ‡¥Æ‡¥ø‡¥®‡¥ø‡¥±‡µç‡¥±‡µç"], answer: "60 minutes" } },
            { en: { question: "A clock shows 1:55:45. What time will it be after 15 seconds?", options: ["2:00:00", "1:56:00", "1:55:60", "2:00:15"], answer: "1:56:00" }, ml: { question: "‡¥í‡¥∞‡µÅ ‡¥ï‡µç‡¥≤‡µã‡¥ï‡µç‡¥ï‡µç 1:55:45 ‡¥ï‡¥æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡µÅ. 15 ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡¥ø‡¥®‡µç ‡¥∂‡µá‡¥∑‡¥Ç ‡¥∏‡¥Æ‡¥Ø‡¥Ç ‡¥é‡¥§‡µç‡¥∞‡¥Ø‡¥æ‡¥Ø‡¥ø‡¥∞‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥Ç?", options: ["2:00:00", "1:56:00", "1:55:60", "2:00:15"], answer: "1:56:00" } },
            { en: { question: "A cooking contest started at 10:05. One person took 2 hours and 10 seconds. When did they finish?", options: ["12:05:10", "12:15:00", "12:00:10", "11:05:10"], answer: "12:05:10" }, ml: { question: "‡¥í‡¥∞‡µÅ ‡¥™‡¥æ‡¥ö‡¥ï‡¥Æ‡¥§‡µç‡¥∏‡¥∞‡¥Ç 10:05-‡¥®‡µç ‡¥§‡µÅ‡¥ü‡¥ô‡µç‡¥ô‡¥ø. ‡¥í‡¥∞‡¥æ‡µæ 2 ‡¥Æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÇ‡¥±‡µÅ‡¥Ç 10 ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µÅ‡¥Ç ‡¥é‡¥ü‡µÅ‡¥§‡µç‡¥§‡µÅ. ‡¥Ö‡¥Ø‡¥æ‡µæ ‡¥é‡¥™‡µç‡¥™‡µã‡¥¥‡¥æ‡¥£‡µç ‡¥™‡µÇ‡µº‡¥§‡µç‡¥§‡¥ø‡¥Ø‡¥æ‡¥ï‡µç‡¥ï‡¥ø‡¥Ø‡¥§‡µç?", options: ["12:05:10", "12:15:00", "12:00:10", "11:05:10"], answer: "12:05:10" } },
            { en: { question: "Another person took 132 minutes and 35 seconds. How much time is that in hours, minutes, and seconds?", options: ["2h 12m 35s", "1h 32m 35s", "2h 22m 35s", "2h 32m 35s"], answer: "2h 12m 35s" }, ml: { question: "‡¥Æ‡¥±‡µç‡¥±‡µä‡¥∞‡¥æ‡µæ 132 ‡¥Æ‡¥ø‡¥®‡¥ø‡¥±‡µç‡¥±‡µÅ‡¥Ç 35 ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µÅ‡¥Ç ‡¥é‡¥ü‡µÅ‡¥§‡µç‡¥§‡µÅ. ‡¥á‡¥§‡µç ‡¥Æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÇ‡¥±‡¥ø‡¥≤‡µÅ‡¥Ç ‡¥Æ‡¥ø‡¥®‡¥ø‡¥±‡µç‡¥±‡¥ø‡¥≤‡µÅ‡¥Ç ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡¥ø‡¥≤‡µÅ‡¥Æ‡¥æ‡¥Ø‡¥ø ‡¥é‡¥§‡µç‡¥∞‡¥Ø‡¥æ‡¥£‡µç?", options: ["2h 12m 35s", "1h 32m 35s", "2h 22m 35s", "2h 32m 35s"], answer: "2h 12m 35s" } },
            { en: { question: "A third person finished 20 minutes and 45 seconds before 2 hours. How long did they take?", options: ["1h 39m 15s", "1h 40m 15s", "1h 39m 45s", "1h 40m 00s"], answer: "1h 39m 15s" }, ml: { question: "‡¥Æ‡µÇ‡¥®‡µç‡¥®‡¥æ‡¥Æ‡¥§‡µä‡¥∞‡¥æ‡µæ 2 ‡¥Æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÇ‡µº ‡¥Ü‡¥ï‡µÅ‡¥®‡µç‡¥®‡¥§‡¥ø‡¥®‡µç 20 ‡¥Æ‡¥ø‡¥®‡¥ø‡¥±‡µç‡¥±‡µÅ‡¥Ç 45 ‡¥∏‡µÜ‡¥ï‡µç‡¥ï‡µª‡¥°‡µÅ‡¥Ç ‡¥Æ‡µÅ‡¥Æ‡µç‡¥™‡µç ‡¥™‡µÇ‡µº‡¥§‡µç‡¥§‡¥ø‡¥Ø‡¥æ‡¥ï‡µç‡¥ï‡¥ø. ‡¥Ö‡¥Ø‡¥æ‡µæ ‡¥é‡¥§‡µç‡¥∞ ‡¥∏‡¥Æ‡¥Ø‡¥Æ‡µÜ‡¥ü‡µÅ‡¥§‡µç‡¥§‡µÅ?", options: ["1h 39m 15s", "1h 40m 15s", "1h 39m 45s", "1h 40m 00s"], answer: "1h 39m 15s" } },
            { en: { question: "The school competition is on 20.12.2025 and the sub-district is on 1.1.2026. How many days are between the two events?", options: ["10 days", "11 days", "12 days", "13 days"], answer: "12 days" }, ml: { question: "‡¥∏‡µç‡¥ï‡µÇ‡µæ ‡¥Æ‡¥§‡µç‡¥∏‡¥∞‡¥Ç 20.12.2025-‡¥®‡µÅ‡¥Ç ‡¥∏‡¥¨‡µç‡¥ú‡¥ø‡¥≤‡µç‡¥≤‡¥æ ‡¥Æ‡¥§‡µç‡¥∏‡¥∞‡¥Ç 1.1.2026-‡¥®‡µÅ‡¥Æ‡¥æ‡¥£‡µç. ‡¥∞‡¥£‡µç‡¥ü‡µç ‡¥Æ‡¥§‡µç‡¥∏‡¥∞‡¥ô‡µç‡¥ô‡µæ‡¥ï‡µç‡¥ï‡¥ø‡¥ü‡¥Ø‡¥ø‡µΩ ‡¥é‡¥§‡µç‡¥∞ ‡¥¶‡¥ø‡¥µ‡¥∏‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥£‡µç‡¥ü‡µç?", options: ["10 ‡¥¶‡¥ø‡¥µ‡¥∏‡¥Ç", "11 ‡¥¶‡¥ø‡¥µ‡¥∏‡¥Ç", "12 ‡¥¶‡¥ø‡¥µ‡¥∏‡¥Ç", "13 ‡¥¶‡¥ø‡¥µ‡¥∏‡¥Ç"], answer: "12 days" } },
            { en: { question: "If today is Sunday, what day will it be on the 24th day from today?", options: ["Sunday", "Monday", "Tuesday", "Wednesday"], answer: "Wednesday" }, ml: { question: "‡¥á‡¥®‡µç‡¥®‡µç ‡¥û‡¥æ‡¥Ø‡¥±‡¥æ‡¥¥‡µç‡¥ö‡¥Ø‡¥æ‡¥£‡µÜ‡¥ô‡µç‡¥ï‡¥ø‡µΩ, ‡¥á‡¥®‡µç‡¥®‡µá‡¥ï‡µç‡¥ï‡µç 24-‡¥æ‡¥Ç ‡¥¶‡¥ø‡¥µ‡¥∏‡¥Ç ‡¥è‡¥§‡µç ‡¥¶‡¥ø‡¥µ‡¥∏‡¥Æ‡¥æ‡¥Ø‡¥ø‡¥∞‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥Ç?", options: ["‡¥û‡¥æ‡¥Ø‡µº", "‡¥§‡¥ø‡¥ô‡µç‡¥ï‡µæ", "‡¥ö‡µä‡¥µ‡µç‡¥µ", "‡¥¨‡µÅ‡¥ß‡µª"], answer: "Wednesday" } },
            { en: { question: "Continue the calendar pattern: 3, 10, 17, ...", options: ["23", "24", "25", "21"], answer: "24" }, ml: { question: "‡¥ï‡¥≤‡¥£‡µç‡¥ü‡µº ‡¥™‡¥æ‡¥±‡µç‡¥±‡µá‡µ∫ ‡¥§‡µÅ‡¥ü‡¥∞‡µÅ‡¥ï: 3, 10, 17, ...", options: ["23", "24", "25", "21"], answer: "24" } },
            { en: { question: "Continue the calendar pattern: 4, 12, 20, ...", options: ["26", "27", "28", "30"], answer: "28" }, ml: { question: "‡¥ï‡¥≤‡¥£‡µç‡¥ü‡µº ‡¥™‡¥æ‡¥±‡µç‡¥±‡µá‡µ∫ ‡¥§‡µÅ‡¥ü‡¥∞‡µÅ‡¥ï: 4, 12, 20, ...", options: ["26", "27", "28", "30"], answer: "28" } }
        ];

        // --- Quiz State ---
        let currentLanguage = 'en';
        let currentQuestionIndex = 0;
        let userAnswers = new Array(quizData.length).fill(null);
        let score = 0;
        let soundsReady = false;

        // --- Sound Effects using Tone.js ---
        let correctSound, wrongSound;

        function setupSounds() {
            if (soundsReady) return;
            Tone.start(); 
            correctSound = new Tone.Synth({ oscillator: { type: 'sine' }, envelope: { attack: 0.01, decay: 0.2, sustain: 0.1, release: 0.2 } }).toDestination();
            wrongSound = new Tone.Synth({ oscillator: { type: 'square' }, envelope: { attack: 0.01, decay: 0.3, sustain: 0, release: 0.2 } }).toDestination();
            soundsReady = true;
        }
        
        // --- Event Listeners ---
        startQuizBtn.addEventListener('click', startQuiz);
        nextBtn.addEventListener('click', nextQuestion);
        backBtn.addEventListener('click', prevQuestion);
        submitBtn.addEventListener('click', showReview);
        restartQuizBtn.addEventListener('click', () => {
             currentQuestionIndex = 0;
             userAnswers.fill(null);
             score = 0;
             reviewScreen.classList.add('hidden');
             welcomeScreen.classList.remove('hidden');
             startQuizBtn.classList.add('hidden');
             languageSelection.classList.remove('hidden');
        });

        // --- Functions ---
        function setLanguage(lang) {
            currentLanguage = lang;
            const text = uiText[currentLanguage];
            welcomeTitle.textContent = text.welcomeTitle;
            welcomeSubtitle.textContent = text.welcomeSubtitle;
            startQuizBtn.textContent = text.startBtn;
            
            languageSelection.classList.add('hidden');
            startQuizBtn.classList.remove('hidden');
        }

        function updateUiText() {
            const text = uiText[currentLanguage];
            questionLabel.textContent = text.questionLabel;
            ofLabel.textContent = text.ofLabel;
            backBtn.textContent = text.backBtn;
            nextBtn.textContent = text.nextBtn;
            submitBtn.textContent = text.submitBtn;
            reviewTitle.textContent = text.reviewTitle;
            reviewSubtitle.textContent = text.reviewSubtitle;
            restartQuizBtn.textContent = text.playAgainBtn;
        }

        function startQuiz() {
            setupSounds();
            updateUiText();
            welcomeScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            totalQuestionsEl.textContent = quizData.length;
            loadQuestion();
        }

        function loadQuestion() {
            feedbackMessage.textContent = '';
            optionsContainer.innerHTML = '';
            
            const questionData = quizData[currentQuestionIndex][currentLanguage];
            
            questionNumberEl.textContent = currentQuestionIndex + 1;
            questionTextEl.textContent = questionData.question;
            progressBar.style.width = `${((currentQuestionIndex + 1) / quizData.length) * 100}%`;

            questionData.options.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option;
                button.className = 'w-full text-left p-4 btn option-btn bg-white hover:bg-sky-100 rounded-lg shadow-sm border-2 border-slate-200';
                button.onclick = () => selectOption(button, option);
                optionsContainer.appendChild(button);

                if (userAnswers[currentQuestionIndex] && userAnswers[currentQuestionIndex].selected === option) {
                    button.classList.add('selected');
                }
            });

            updateNavigation();
        }

        function selectOption(button, selectedOption) {
            const buttons = optionsContainer.querySelectorAll('button');
            buttons.forEach(btn => btn.classList.remove('selected'));
            button.classList.add('selected');
            
            const correctAnswer = quizData[currentQuestionIndex][currentLanguage].answer;
            userAnswers[currentQuestionIndex] = { selected: selectedOption, correct: correctAnswer };

            const isCorrect = selectedOption === correctAnswer;
            if (isCorrect) {
                if (soundsReady) correctSound.triggerAttackRelease('C5', '0.2s');
                feedbackMessage.textContent = uiText[currentLanguage].correctFeedback;
                feedbackMessage.className = 'mt-4 text-center font-bold text-green-600';
            } else {
                if (soundsReady) wrongSound.triggerAttackRelease('C3', '0.3s');
                const text = uiText[currentLanguage];
                feedbackMessage.textContent = `${text.correctAnswer} ${correctAnswer}`;
                feedbackMessage.className = 'mt-4 text-center font-bold text-red-600';
            }
        }

        function updateNavigation() {
            backBtn.disabled = currentQuestionIndex === 0;
            backBtn.classList.toggle('opacity-50', currentQuestionIndex === 0);

            if (currentQuestionIndex === quizData.length - 1) {
                nextBtn.classList.add('hidden');
                submitBtn.classList.remove('hidden');
            } else {
                nextBtn.classList.remove('hidden');
                submitBtn.classList.add('hidden');
            }
        }

        function nextQuestion() {
            if (currentQuestionIndex < quizData.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            }
        }

        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        }

        function showReview() {
            quizScreen.classList.add('hidden');
            reviewScreen.classList.remove('hidden');

            score = 0;
            userAnswers.forEach((answer) => {
                if (answer && answer.selected === answer.correct) {
                    score++;
                }
            });

            finalScoreEl.textContent = `${score}/${quizData.length}`;

            const text = uiText[currentLanguage];
            reviewContent.innerHTML = `<h3 class="text-2xl font-bold text-center mb-4 text-slate-700">${text.reviewHeader}</h3>`;
            quizData.forEach((question, index) => {
                const questionData = question[currentLanguage];
                const userAnswer = userAnswers[index];
                const isCorrect = userAnswer && userAnswer.selected === userAnswer.correct;
                
                const reviewItem = document.createElement('div');
                reviewItem.className = `p-4 rounded-lg shadow-sm ${isCorrect ? 'bg-green-100' : 'bg-red-100'}`;
                
                reviewItem.innerHTML = `
                    <p class="font-bold text-slate-800">${index + 1}. ${questionData.question}</p>
                    <p class="mt-2 text-sm ${isCorrect ? 'text-green-800' : 'text-red-800'}">
                        ${text.yourAnswer} <span class="font-semibold">${userAnswer ? userAnswer.selected : text.notAnswered}</span>
                        ${!isCorrect ? `<br>${text.correctAnswer} <span class="font-semibold">${userAnswer.correct}</span>` : '‚úÖ'}
                    </p>
                `;
                reviewContent.appendChild(reviewItem);
            });
        }

    </script>
</body>
</html>

