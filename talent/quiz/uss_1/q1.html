<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>USS Talent Urdu Quiz</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
    <!-- Preconnect to Google Fonts for faster loading -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Urdu Fonts - Noto Nastaleeq Urdu as primary -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Noto Nastaliq Urdu', 'Jameel Noori Nastaleeq', 'Noto Naskh Urdu', 'Segoe UI', serif;
        }
        
        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: #333;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background-color: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            width: 100%;
            max-width: 500px;
            overflow: hidden;
            position: relative;
        }
        
        .header {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            padding: 20px;
            text-align: center;
            border-bottom: 3px solid gold;
        }
        
        .header h1 {
            font-size: 28px;
            margin-bottom: 5px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .header p {
            font-size: 16px;
            opacity: 0.9;
        }
        
        .screen {
            padding: 30px;
            display: none;
        }
        
        .active {
            display: block;
        }
        
        /* Quiz Screen */
        .question-number {
            color: #6a11cb;
            font-size: 18px;
            margin-bottom: 10px;
        }
        
        .question-text {
            font-size: 22px;
            margin-bottom: 25px;
            color: #333;
            line-height: 1.4;
            font-weight: 500;
            text-align: center;
        }
        
        .options-container {
            margin-bottom: 30px;
        }
        
        .option {
            background-color: #f5f5f5;
            border: 2px solid #ddd;
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 18px;
            text-align: center;
        }
        
        .option:hover {
            background-color: #e9e9e9;
            border-color: #6a11cb;
        }
        
        .option.selected {
            background-color: #6a11cb;
            color: white;
            border-color: #6a11cb;
        }
        
        .option.correct {
            background-color: #4caf50;
            color: white;
            border-color: #4caf50;
        }
        
        .option.wrong {
            background-color: #f44336;
            color: white;
            border-color: #f44336;
        }
        
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
        }
        
        .nav-btn {
            background-color: #2575fc;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 48%;
        }
        
        .nav-btn:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
        
        .nav-btn:hover:not(:disabled) {
            background-color: #6a11cb;
            transform: translateY(-2px);
        }
        
        /* Result Screen */
        #result-screen {
            text-align: center;
        }
        
        .result-title {
            color: #2575fc;
            font-size: 28px;
            margin-bottom: 20px;
        }
        
        .score-text {
            font-size: 22px;
            margin-bottom: 10px;
            color: #333;
        }
        
        .score-value {
            font-size: 60px;
            font-weight: bold;
            color: #6a11cb;
            margin: 20px 0;
        }
        
        .review-btn {
            background-color: #ff9800;
        }
        
        .review-btn:hover {
            background-color: #f57c00;
        }
        
        /* Review Screen */
        .review-item {
            background-color: #f9f9f9;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .review-question {
            font-size: 18px;
            margin-bottom: 10px;
            color: #333;
            text-align: center;
        }
        
        .review-answer {
            font-size: 16px;
            padding: 10px;
            border-radius: 10px;
            margin-top: 5px;
            text-align: center;
        }
        
        .review-correct {
            background-color: #e8f5e9;
            color: #2e7d32;
        }
        
        .review-wrong {
            background-color: #ffebee;
            color: #c62828;
        }
        
        /* Confetti canvas */
        #confetti-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
        }
        
        /* Responsive adjustments */
        @media (max-width: 500px) {
            .container {
                border-radius: 15px;
            }
            
            .header h1 {
                font-size: 24px;
            }
            
            .screen {
                padding: 20px;
            }
            
            .question-text {
                font-size: 20px;
            }
            
            .option {
                font-size: 16px;
                padding: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>USS Talent Urdu Quiz</h1>
            <p>Test your knowledge of Urdu language</p>
        </div>
        
        <!-- Quiz Screen -->
        <div id="quiz-screen" class="screen active">
            <div class="question-number">Question <span id="current-question">1</span> / <span id="total-questions">25</span></div>
            <div class="question-text" id="question-text">Question will appear here</div>
            
            <div class="options-container" id="options-container">
                <!-- Options will be inserted here by JavaScript -->
            </div>
            
            <div class="navigation-buttons">
                <button id="prev-btn" class="nav-btn">Previous</button>
                <button id="next-btn" class="nav-btn">Next</button>
            </div>
        </div>
        
        <!-- Result Screen -->
        <div id="result-screen" class="screen">
            <h2 class="result-title">Quiz Completed!</h2>
            <p class="score-text">Your Score</p>
            <div class="score-value" id="score-value">0</div>
            <p class="score-text" id="score-message"></p>
            <button id="review-btn" class="btn review-btn">Review Answers</button>
            <button id="restart-btn" class="btn">Try Again</button>
        </div>
        
        <!-- Review Screen -->
        <div id="review-screen" class="screen">
            <h2 class="result-title">Your Answers Review</h2>
            <div id="review-container">
                <!-- Review items will be inserted here by JavaScript -->
            </div>
            <button id="back-to-result-btn" class="btn">Back to Results</button>
        </div>
    </div>
    
    <canvas id="confetti-canvas"></canvas>
    
    <script>
        // Quiz data
        const quizData = [
            {
                question: "ہمارے وطن کا نام کیا ہے؟",
                options: ["کیرلا", "ہندوستان", "راجھستان", "دہلی"],
                correct: 1
            },
            {
                question: "ناریل کے پیڑ کے نام  سے مشہور ہے ؟",
                options: ["بنگال", "گجرات", "کیرلا", "دہلی"],
                correct: 2
            },
            {
                question: "لفظ نیاری کا ہم آواز لفظ ہے ؟",
                options: ["ہریالی", "پیاری", "کیسی", "حالی"],
                correct: 1
            },
            {
                question: "گروہ سے نا مناسب چن کر لکھیے۔",
                options: ["کاجو", "ناریل", "سپاری", "کھجور"],
                correct: 3
            },
            {
                question: "کیرلا کی ایک ندی ہے ؟",
                options: ["گنگا", "جمنا", "پریار", "کاویری"],
                correct: 2
            },
            {
                question: "کیرلا کے ریاستی پرندہ کون سا ہے ؟",
                options: ["کبوتر", "پپیہا", "مرغا", "بکرا"],
                correct: 1
            },
            {
                question: "کیرلا کے ایک فن کے نام چن لیجیے؟",
                options: ["کتھا کلی", "کچی پڑی", "اوڈیسی", "موہنیاٹم"],
                correct: 0
            },
            {
                question: "ان میں رنگوں کا تہوار کون سا ہے؟",
                options: ["عید", "ہولی", "دیوالی", "اونم"],
                correct: 2
            },
            {
                question: "ایک کلو سونا پاپڑی کا دام ایک سو پچاس ہےتو دو کلو کے لیے کتنے ہیں ؟",
                options: ["دو سو", "دو سو پچاس", "تین سو", "تین سو پچاس"],
                correct: 2
            },
            {
                question: "یومِ جمہوریہ جشن کے موقع پر وزیرِ اعظم کہاں ترنگا جھنڈا لہراتے ہیں؟",
                options: ["تاج محل", "لال قلعہ", "چار مینار", "آگرہ قلعہ"],
                correct: 1
            },
            {
                question: "جھانسی کی رانی کا اصل نام کیا ہے؟",
                options: ["پتھلی بھائی", "سروجنی نائڈو", "منی کرنکا", "بی اماں"],
                correct: 2
            },
            {
                question: "ہماری قومی جانور کون سا ہے؟",
                options: ["ہاتھی", "بھالو", "باگھ", "چیتا"],
                correct: 2
            },
            {
                question: "مشہور نعرہ انقلاب زندہ باد کا بانی کون ہے؟",
                options: ["علامہ اقبال", "حسرت موہانی", "بھگت سنگھ", "گاندھی جی"],
                correct: 1
            },
            {
                question: "نیتاجی کے نام سے کون مشہور ہیں؟",
                options: ["مرزا غالب", "جھانسی رانی", "ابوالکلام آزاد", "سبھاش چندر بوس"],
                correct: 3
            },
            {
                question: "ہمارے قومی جھنڈا کس نے بنائے؟",
                options: ["پنگلی وینگیّ", "گاندھی جی", "جواہر لال نہرو", "ابوالکلام آزاد"],
                correct: 0
            },
            {
                question: "گروہ میں قومی نشانیات نہیں ہے ؟",
                options: ["آم", "باگھ", "کنول", "کٹہل"],
                correct: 3
            },
            {
                question: "دنیا کا سب سے بڑا پھل کون سا ہے ؟",
                options: ["آم", "انار", "کٹہل", "اننّاس"],
                correct: 2
            },
            {
                question: "خدا کی اپنی بستی کے نام سے مشہور ہے ؟",
                options: ["تامل ناڈو", "کرناٹک", "کیرلا", "کاشمیر"],
                correct: 2
            },
            {
                question: "ہندوستاں ہے ہمارا وطن۔ یہ شعر کا شاعر کون ہے ؟",
                options: ["برج نرائن چکبست", "میر", "جگر", "جوش"],
                correct: 0
            },
            {
                question: "ہمارے قومی پرندہ کون سا ہے ؟",
                options: ["مور", "مرغی", "کبوتر", "الوّ"],
                correct: 0
            },
            {
                question: "14 / نومبر کی خصوصیت ہے ؟",
                options: ["یومِ آزادی", "یومِ جمہوریہ", "یومِ اطفال", "یومِ تعلیم"],
                correct: 2
            },
            {
                question: "19 / جون کی خصوصیت ہے ؟",
                options: ["یومِ آزادی", "یومِ جمہوریہ", "یومِ ماحولیات", "یومِ مطالعہ"],
                correct: 3
            },
            {
                question: "15 / اگست کی خصوصیت ہے ؟",
                options: ["یومِ آزادی", "یومِ جمہوریہ", "یومِ آب", "یومِ اطفال"],
                correct: 0
            },
            {
                question: "26 / جنوری کی خصوصیت ہے ؟",
                options: ["یومِ آزادی", "یومِ جمہوریہ", "یومِ اطفال", "یومِ پیدائش"],
                correct: 1
            },
            {
                question: "30 / جنوری کی خصوصیت ہے ؟",
                options: ["یومِ شہادت", "یومِ جمہوریہ", "یومِ اطفال", "یومِ پیدائش"],
                correct: 0
            }
        ];

        // App state
        let currentQuestionIndex = 0;
        let userAnswers = Array(quizData.length).fill(null);
        let userScore = 0;
        
        // DOM elements
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        const reviewScreen = document.getElementById('review-screen');
        
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const reviewBtn = document.getElementById('review-btn');
        const restartBtn = document.getElementById('restart-btn');
        const backToResultBtn = document.getElementById('back-to-result-btn');
        
        const currentQuestionElement = document.getElementById('current-question');
        const totalQuestionsElement = document.getElementById('total-questions');
        const questionTextElement = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const scoreValueElement = document.getElementById('score-value');
        const scoreMessageElement = document.getElementById('score-message');
        const reviewContainer = document.getElementById('review-container');
        
        // Sound effects
        const correctSound = new Audio('sound/co.mp3');
        const wrongSound = new Audio('sound/wr.mp3');
        
        // Initialize the quiz
        function initQuiz() {
            totalQuestionsElement.textContent = quizData.length;
            showQuestion(0);
            updateNavigationButtons();
        }
        
        // Show question at given index
        function showQuestion(index) {
            currentQuestionIndex = index;
            const question = quizData[index];
            
            currentQuestionElement.textContent = index + 1;
            questionTextElement.textContent = question.question;
            
            // Clear previous options
            optionsContainer.innerHTML = '';
            
            // Add options
            question.options.forEach((option, optionIndex) => {
                const optionElement = document.createElement('div');
                optionElement.classList.add('option');
                
                if (userAnswers[index] === optionIndex) {
                    optionElement.classList.add('selected');
                }
                
                optionElement.textContent = option;
                optionElement.addEventListener('click', () => selectOption(optionIndex, optionElement));
                optionsContainer.appendChild(optionElement);
            });
            
            updateNavigationButtons();
        }
        
        // Handle option selection
        function selectOption(selectedOptionIndex, optionElement) {
            // Remove selected class from all options
            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // Add selected class to clicked option
            optionElement.classList.add('selected');
            
            // Store user's answer
            userAnswers[currentQuestionIndex] = selectedOptionIndex;
            
            // Check if answer is correct
            const correctAnswerIndex = quizData[currentQuestionIndex].correct;
            const isCorrect = selectedOptionIndex === correctAnswerIndex;
            
            if (isCorrect) {
                // Play correct sound
                correctSound.currentTime = 0;
                correctSound.play();
                
                // Show confetti animation
                showConfetti();
            } else {
                // Play wrong sound
                wrongSound.currentTime = 0;
                wrongSound.play();
                
                // Highlight correct answer
                document.querySelectorAll('.option').forEach((opt, idx) => {
                    if (idx === correctAnswerIndex) {
                        opt.classList.add('correct');
                    }
                });
                
                optionElement.classList.add('wrong');
            }
            
            // Disable options after selection
            document.querySelectorAll('.option').forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            // Enable next button
            nextBtn.disabled = false;
        }
        
        // Update navigation buttons state
        function updateNavigationButtons() {
            prevBtn.disabled = currentQuestionIndex === 0;
            nextBtn.disabled = userAnswers[currentQuestionIndex] === null;
            
            if (currentQuestionIndex === quizData.length - 1) {
                nextBtn.textContent = 'Finish';
            } else {
                nextBtn.textContent = 'Next';
            }
        }
        
        // Show confetti animation
        function showConfetti() {
            confetti({
                particleCount: 150,
                spread: 70,
                origin: { y: 0.6 },
                colors: ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff']
            });
        }
        
        // Calculate and show results
        function showResults() {
            userScore = 0;
            
            quizData.forEach((question, index) => {
                if (userAnswers[index] === question.correct) {
                    userScore++;
                }
            });
            
            scoreValueElement.textContent = `${userScore} / ${quizData.length}`;
            
            // Set score message based on performance
            const percentage = (userScore / quizData.length) * 100;
            if (percentage >= 80) {
                scoreMessageElement.textContent = 'Excellent! You have great knowledge of Urdu and Indian culture.';
            } else if (percentage >= 50) {
                scoreMessageElement.textContent = 'Good effort! You have decent knowledge of Urdu and Indian culture.';
            } else {
                scoreMessageElement.textContent = 'Keep learning! Try again to improve your score.';
            }
            
            // Show result screen
            quizScreen.classList.remove('active');
            resultScreen.classList.add('active');
        }
        
        // Show review of answers
        function showReview() {
            reviewContainer.innerHTML = '';
            
            quizData.forEach((question, index) => {
                const reviewItem = document.createElement('div');
                reviewItem.classList.add('review-item');
                
                const questionElement = document.createElement('div');
                questionElement.classList.add('review-question');
                questionElement.textContent = `${index + 1}. ${question.question}`;
                
                const userAnswerElement = document.createElement('div');
                userAnswerElement.classList.add('review-answer');
                
                const isCorrect = userAnswers[index] === question.correct;
                const userAnswerIndex = userAnswers[index];
                
                if (isCorrect) {
                    userAnswerElement.classList.add('review-correct');
                    userAnswerElement.textContent = `Your answer: ${question.options[userAnswerIndex]} ✓`;
                } else {
                    userAnswerElement.classList.add('review-wrong');
                    
                    if (userAnswerIndex !== null) {
                        userAnswerElement.textContent = `Your answer: ${question.options[userAnswerIndex]} ✗`;
                    } else {
                        userAnswerElement.textContent = `Your answer: Not answered ✗`;
                    }
                    
                    const correctAnswerElement = document.createElement('div');
                    correctAnswerElement.classList.add('review-answer', 'review-correct');
                    correctAnswerElement.textContent = `Correct answer: ${question.options[question.correct]}`;
                    
                    reviewItem.appendChild(correctAnswerElement);
                }
                
                reviewItem.appendChild(questionElement);
                reviewItem.appendChild(userAnswerElement);
                
                reviewContainer.appendChild(reviewItem);
            });
            
            resultScreen.classList.remove('active');
            reviewScreen.classList.add('active');
        }
        
        // Event listeners
        prevBtn.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                showQuestion(currentQuestionIndex - 1);
            }
        });
        
        nextBtn.addEventListener('click', () => {
            if (currentQuestionIndex < quizData.length - 1) {
                showQuestion(currentQuestionIndex + 1);
            } else {
                showResults();
            }
        });
        
        reviewBtn.addEventListener('click', showReview);
        
        restartBtn.addEventListener('click', () => {
            // Reset quiz state
            currentQuestionIndex = 0;
            userAnswers = Array(quizData.length).fill(null);
            userScore = 0;
            
            // Show quiz screen
            resultScreen.classList.remove('active');
            reviewScreen.classList.remove('active');
            quizScreen.classList.add('active');
            
            // Reinitialize quiz
            initQuiz();
        });
        
        backToResultBtn.addEventListener('click', () => {
            reviewScreen.classList.remove('active');
            resultScreen.classList.add('active');
        });
        
        // Initialize the quiz when page loads
        window.onload = initQuiz;
    </script>
</body>
</html>
